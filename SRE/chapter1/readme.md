# Chapter 1 

## dev ops 的分与合

文中谈到在到由于工作的异化，“系统管理员的日常工作与研发工程师相差甚远”，因此诞生了这两个不同的岗位，最开始大家会认为这样方式是一种“解耦”的方式，但随着现代化的软件越来越庞大，这样的解耦带来了非常大的成本——直接成本和间接成本。

这里我重点提一下间接成本，总结起来就是因为工作的异化，导致了相互之间从工作上产生矛盾和不理解，到出现人与人之间的信任和尊重问题。这一点从我自己的角度来谈，我在一些项目中在前期主要是负责ops方面的工作，在dev压力非常大的情况下，我也会感受到同事给予的相应压力，因为ops方面的工作并不能得到很好地很及时地体现，这对我也会带来很大的困扰。

在本章节中有提到对于SRE，其面对的不是的100%的运维工作，需要有50%的精力投入到研发之中，这一点我是非常认同的。一方面是运维工作也需要研发的一些细节的支持，另一方面也是缓和工作异化带来的人与人之间相互的矛盾。

## 核心方法论

关于SRE的几个核心方法论，以下是我自己的实际经验的感受

- 确保长期关注研发工作

  仍然是强调SRE的精力要有相当的一部分放在研发中，其实开发和运维两者的耦合度并不低，甚至应当内聚

- 在保障服务SLO的前提下最大化迭代速率

  如何在保证稳定的情况下进行尽可能快的上线处理，也没有必要经过非常多检查和开发精心设计的路径来绕过检查。

- 监控系统

  这里Google的理论中是不建议相关运维人员需要进一步分析日志，从而进行相关操作的。应该是需要用户进行相关操作时，才通知用户。

- 应急事件处理

  主要强调一个运维手册的维护，这个部分是当前（2019年9月）我遇到的一个实际问题，因为接手项目时项目的集群已经搭建完毕，但仅仅只是搭建完毕，没有相应的管理手册，因为没有实体业务，也没有相应部署服务和资源分配的相关准则和半自动化操作。现阶段又存在新的人员进入到项目中，我也需要进行相应文件的交接，希望在此能够开始该项目的运维手册的相关维护。

- 变更处理

  实际过程中主要是考虑安全的回退这个部分，现阶段是使用k8s内部的机制进行相应的处理

- 需求预测和容量规划

  我觉得这个部分是运维和开发的整合的部分，一方面是性能，第二方面是业务的扩展性，是非功能需求和功能需求两个方面来讲，在这种情况下只有SRE能同时站在两个角度来思考这个问题。

- 资源部署

  “需要大幅度修改现有的集群配置（配置文件、负载均衡、网络等）”我们实际项目中遇到了这样的问题，在增加服务器进入集群中时，因为修改网络配置导致整个集群崩坏，的确是一个“相对危险的操作”。

- 效率与性能

  这个与资源也密不可分，可能站在资源的角度是强调分给了谁，而相应的站在效率与性能的角度是如何使用资源，使用的更多资源能不能有很好的性能提升，有没有满足压力测试，这个地方就比如数据库，你给予的Memory资源是不是用到了，是不是给得越多就能性能越好，能好到什么程度，这都是要考虑的。