# Chapter4

## SLA & SLI & SLO

简单的讲，这三者分别定义了是什么，为什么，怎么办

| 名称 | what                       | how          |
| ---- | -------------------------- | ------------ |
| SLI  | 我们的系统现在如何         | 如何度量     |
| SLO  | 我们希望达到什么样的情况   | 如何制定目标 |
| SLA  | 如果做到或者做不到会如何呢 | 如何制定奖惩 |

## 如何度量

SLI指具体的观察对象，SLO针对某个观察对象提出的具体指标界限。

这里会提到一个新的问题，就有关于基于服务水平指标（SLO），最终也是会成为一个baseline，我们的团队最终也会基于这个指标开始办公室政治的一系列争吵，似乎这种争吵也会成为一个不可避免的情况。但是，有一点可以肯定的是，不论是SLI还是SLO，有一个具体的可度量的指标，总比非常模糊地进行口头上的辩论，将有着重大的改善。

这里要强调，我们在此制定的SLI和SLO实质上都是对我们的监控集成起指导意义的，我们在后续使用相应的监控时，需要具体体现我们的SLO/SLI。

我们可能有很多的指标可以用于度量，SRE认为尽可能高的覆盖和尽可能少的指标是更好的。我们自己的项目里面其实是有promethues的，但是可能我们没有非常细致的进行信息采集和分析，以及结合grafana还是一个非常原始的阶段，且我们对于相关指标如何进行优化，其实没有一套成熟完整的理论体系和实践经验，这个是需要进一步的进行实验和操作。

## 如何制定目标

首先是区分两个目标，一个是内部目标，一个是用户目标，我们可以给自己一个缓冲区，这样用户也不会过度的依赖我们的系统（甚至学习可控的故障注入来让用户解决过度依赖的问题）。第二个部分就是SLO具体一条一条的如何制定，这个我第一眼看的时候觉得非常像软工课上面的非功能性需求的，描述应当越简单越好，可以具有层次，不要设置过高，过高遥不可及过于激进可能出现消耗过多的精力来进行维护，过于松散会导致产品的效果很差。

例如我们现在正在开发的项目，开发是第一位，对于相关服务QPS的要求其实相对并不高，我们可以在这个阶段不对QPS有过高或者多层次的要求，更多的要求其正确性。

## 如何制定奖惩

主要是团队的激励上面会有很高的作用，可能从技术角度没有过多的要求，但是在相关会议上面应该提及和讨论。